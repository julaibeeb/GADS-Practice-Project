<!DOCTYPE html>
<!-- saved from url=(0074)https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session -->
<html lang="en" class="mdl-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="[]" name="active-experiments">
<meta content="{&quot;userId&quot;:2929111}" name="help-api-product-data">
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="6LCOz6tEIk2BCrfC3DOklfSzT2eozExr121rm4wIp/AxNCPZ+kYAMvhnOJ+b011P3SwyFpCoCnZC7r61G9pc2A==">
<title>AK8S-04 Creating a GKE Cluster via Cloud Shell | Qwiklabs</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0" name="viewport">
<meta content="Architecting with Google Kubernetes Engine: Lab 04 Creating a GKE Cluster via Cloud Shell" name="description">
<meta content="Qwiklabs" name="author">
<meta content="1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0" name="google-site-verification">
<meta content="AK8S-04 Creating a GKE Cluster via Cloud Shell | Qwiklabs" property="og:title">
<meta content="website" property="og:type">
<meta content="/favicon-144.png" property="og:image">
<meta content="Qwiklabs" property="og:site_name">
<meta content="Architecting with Google Kubernetes Engine: Lab 04 Creating a GKE Cluster via Cloud Shell" property="og:description">
<meta content="/qwiklabs_logo_900x887.png" property="og:logo" size="900x887">
<meta content="/qwiklabs_logo_994x187.png" property="og:logo" size="994x187">
<meta content="#3681E4" property="msapplication-TileColor">
<meta content="/favicon-144.png" property="msapplication-TileImage">
<link href="https://googlepluralsight.qwiklabs.com/favicon-32.png" rel="shortcut icon">
<link color="#3681E4" href="https://googlepluralsight.qwiklabs.com/favicon-svg.svg" rel="mask-icon">
<link href="https://googlepluralsight.qwiklabs.com/favicon-180.png" rel="apple-touch-icon-precomposed">
<link rel="stylesheet" media="screen" href="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/css">


<!--[if lt IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<![endif]-->
<!--[endif]>  <![endif]-->
<script type="text/javascript" async="" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/js"></script><script type="text/javascript" async="" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/analytics.js.download"></script><script type="text/javascript" async="" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/analytics.min.js.download"></script><script type="text/javascript" async="" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/recaptcha__en.js.download"></script><script type="text/javascript" id="www-widgetapi-script" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/www-widgetapi.js.download" async=""></script><script>
//<![CDATA[
window.gon={};gon.current_user={"firstname":"Muhammed","lastname":"Garba","fullname":"Muhammed Garba","company":"Pluralsight","email":"muhdmuhd158@gmail.com","origin":"googlepluralsight-run, lti-pluralsight_v2","subscriptions":0,"id":"759b47abb393b0678475b61a70a35d74","qlCreatedAt":"2020-06-14 01:45:23 UTC","optIn":null};gon.segment="j4Im8pqIko0Lxq4wVVZWMPMM0EroHUvb";gon.deployment="googlepluralsight-run";
//]]>
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "https://www.qwiklabs.com/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.qwiklabs.com/catalog?keywords={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<script id="ze-snippet" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/snippet.js.download"></script>



<link rel="stylesheet" media="all" href="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/application-14cdb3bdbf1954e4ff8f97dd21369a3ead45d1c5b2c43fd20e6e47f1218237eb.css">
<script>
  EVENT_SOURCE_BASE_URL = "https://googlepluralsight-run.qwiklabs.com/nchan-sub?id=";
</script>
<script src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/webcomponents-loader-408088dc333247a761de5f2b2a4ba1cabd2bc36579f83ba92a559eb3682a9b77.js.download"></script>
<script src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/hallofmirrors-0bfd9658c4d28fc79a6a0f9d13bc8ec9c12b27686bb563719dea87ff300718b1.js.download"></script>
<custom-style>
  <style is="custom-style">[hidden] {
  display: none !important;
}

</style>
</custom-style>
<custom-style>
  <style is="custom-style">html {
  --layout_-_display:  flex;;

      --layout-inline_-_display:  inline-flex;;

      --layout-horizontal_-_display:  var(--layout_-_display); --layout-horizontal_-_-ms-flex-direction:  row; --layout-horizontal_-_-webkit-flex-direction:  row; --layout-horizontal_-_flex-direction:  row;;

      --layout-horizontal-reverse_-_display:  var(--layout_-_display); --layout-horizontal-reverse_-_-ms-flex-direction:  row-reverse; --layout-horizontal-reverse_-_-webkit-flex-direction:  row-reverse; --layout-horizontal-reverse_-_flex-direction:  row-reverse;;

      --layout-vertical_-_display:  var(--layout_-_display); --layout-vertical_-_-ms-flex-direction:  column; --layout-vertical_-_-webkit-flex-direction:  column; --layout-vertical_-_flex-direction:  column;;

      --layout-vertical-reverse_-_display:  var(--layout_-_display); --layout-vertical-reverse_-_-ms-flex-direction:  column-reverse; --layout-vertical-reverse_-_-webkit-flex-direction:  column-reverse; --layout-vertical-reverse_-_flex-direction:  column-reverse;;

      --layout-wrap_-_-ms-flex-wrap:  wrap; --layout-wrap_-_-webkit-flex-wrap:  wrap; --layout-wrap_-_flex-wrap:  wrap;;

      --layout-wrap-reverse_-_-ms-flex-wrap:  wrap-reverse; --layout-wrap-reverse_-_-webkit-flex-wrap:  wrap-reverse; --layout-wrap-reverse_-_flex-wrap:  wrap-reverse;;

      --layout-flex-auto_-_-ms-flex:  1 1 auto; --layout-flex-auto_-_-webkit-flex:  1 1 auto; --layout-flex-auto_-_flex:  1 1 auto;;

      --layout-flex-none_-_-ms-flex:  none; --layout-flex-none_-_-webkit-flex:  none; --layout-flex-none_-_flex:  none;;

      --layout-flex_-_-ms-flex:  1 1 0.000000001px; --layout-flex_-_-webkit-flex:  1; --layout-flex_-_flex:  1; --layout-flex_-_-webkit-flex-basis:  0.000000001px; --layout-flex_-_flex-basis:  0.000000001px;;

      --layout-flex-2_-_-ms-flex:  2; --layout-flex-2_-_-webkit-flex:  2; --layout-flex-2_-_flex:  2;;

      --layout-flex-3_-_-ms-flex:  3; --layout-flex-3_-_-webkit-flex:  3; --layout-flex-3_-_flex:  3;;

      --layout-flex-4_-_-ms-flex:  4; --layout-flex-4_-_-webkit-flex:  4; --layout-flex-4_-_flex:  4;;

      --layout-flex-5_-_-ms-flex:  5; --layout-flex-5_-_-webkit-flex:  5; --layout-flex-5_-_flex:  5;;

      --layout-flex-6_-_-ms-flex:  6; --layout-flex-6_-_-webkit-flex:  6; --layout-flex-6_-_flex:  6;;

      --layout-flex-7_-_-ms-flex:  7; --layout-flex-7_-_-webkit-flex:  7; --layout-flex-7_-_flex:  7;;

      --layout-flex-8_-_-ms-flex:  8; --layout-flex-8_-_-webkit-flex:  8; --layout-flex-8_-_flex:  8;;

      --layout-flex-9_-_-ms-flex:  9; --layout-flex-9_-_-webkit-flex:  9; --layout-flex-9_-_flex:  9;;

      --layout-flex-10_-_-ms-flex:  10; --layout-flex-10_-_-webkit-flex:  10; --layout-flex-10_-_flex:  10;;

      --layout-flex-11_-_-ms-flex:  11; --layout-flex-11_-_-webkit-flex:  11; --layout-flex-11_-_flex:  11;;

      --layout-flex-12_-_-ms-flex:  12; --layout-flex-12_-_-webkit-flex:  12; --layout-flex-12_-_flex:  12;;

      

      --layout-start_-_-ms-flex-align:  start; --layout-start_-_-webkit-align-items:  flex-start; --layout-start_-_align-items:  flex-start;;

      --layout-center_-_-ms-flex-align:  center; --layout-center_-_-webkit-align-items:  center; --layout-center_-_align-items:  center;;

      --layout-end_-_-ms-flex-align:  end; --layout-end_-_-webkit-align-items:  flex-end; --layout-end_-_align-items:  flex-end;;

      --layout-baseline_-_-ms-flex-align:  baseline; --layout-baseline_-_-webkit-align-items:  baseline; --layout-baseline_-_align-items:  baseline;;

      

      --layout-start-justified_-_-ms-flex-pack:  start; --layout-start-justified_-_-webkit-justify-content:  flex-start; --layout-start-justified_-_justify-content:  flex-start;;

      --layout-center-justified_-_-ms-flex-pack:  center; --layout-center-justified_-_-webkit-justify-content:  center; --layout-center-justified_-_justify-content:  center;;

      --layout-end-justified_-_-ms-flex-pack:  end; --layout-end-justified_-_-webkit-justify-content:  flex-end; --layout-end-justified_-_justify-content:  flex-end;;

      --layout-around-justified_-_-ms-flex-pack:  distribute; --layout-around-justified_-_-webkit-justify-content:  space-around; --layout-around-justified_-_justify-content:  space-around;;

      --layout-justified_-_-ms-flex-pack:  justify; --layout-justified_-_-webkit-justify-content:  space-between; --layout-justified_-_justify-content:  space-between;;

      --layout-center-center_-_-ms-flex-align:  var(--layout-center_-_-ms-flex-align); --layout-center-center_-_-webkit-align-items:  var(--layout-center_-_-webkit-align-items); --layout-center-center_-_align-items:  var(--layout-center_-_align-items); --layout-center-center_-_-ms-flex-pack:  var(--layout-center-justified_-_-ms-flex-pack); --layout-center-center_-_-webkit-justify-content:  var(--layout-center-justified_-_-webkit-justify-content); --layout-center-center_-_justify-content:  var(--layout-center-justified_-_justify-content);;

      

      --layout-self-start_-_-ms-align-self:  flex-start; --layout-self-start_-_-webkit-align-self:  flex-start; --layout-self-start_-_align-self:  flex-start;;

      --layout-self-center_-_-ms-align-self:  center; --layout-self-center_-_-webkit-align-self:  center; --layout-self-center_-_align-self:  center;;

      --layout-self-end_-_-ms-align-self:  flex-end; --layout-self-end_-_-webkit-align-self:  flex-end; --layout-self-end_-_align-self:  flex-end;;

      --layout-self-stretch_-_-ms-align-self:  stretch; --layout-self-stretch_-_-webkit-align-self:  stretch; --layout-self-stretch_-_align-self:  stretch;;

      --layout-self-baseline_-_-ms-align-self:  baseline; --layout-self-baseline_-_-webkit-align-self:  baseline; --layout-self-baseline_-_align-self:  baseline;;

      

      --layout-start-aligned_-_-ms-flex-line-pack:  start; --layout-start-aligned_-_-ms-align-content:  flex-start; --layout-start-aligned_-_-webkit-align-content:  flex-start; --layout-start-aligned_-_align-content:  flex-start;;

      --layout-end-aligned_-_-ms-flex-line-pack:  end; --layout-end-aligned_-_-ms-align-content:  flex-end; --layout-end-aligned_-_-webkit-align-content:  flex-end; --layout-end-aligned_-_align-content:  flex-end;;

      --layout-center-aligned_-_-ms-flex-line-pack:  center; --layout-center-aligned_-_-ms-align-content:  center; --layout-center-aligned_-_-webkit-align-content:  center; --layout-center-aligned_-_align-content:  center;;

      --layout-between-aligned_-_-ms-flex-line-pack:  justify; --layout-between-aligned_-_-ms-align-content:  space-between; --layout-between-aligned_-_-webkit-align-content:  space-between; --layout-between-aligned_-_align-content:  space-between;;

      --layout-around-aligned_-_-ms-flex-line-pack:  distribute; --layout-around-aligned_-_-ms-align-content:  space-around; --layout-around-aligned_-_-webkit-align-content:  space-around; --layout-around-aligned_-_align-content:  space-around;;

      

      --layout-block_-_display:  block;;

      --layout-invisible_-_visibility:  hidden !important;;

      --layout-relative_-_position:  relative;;

      --layout-fit_-_position:  absolute; --layout-fit_-_top:  0; --layout-fit_-_right:  0; --layout-fit_-_bottom:  0; --layout-fit_-_left:  0;;

      --layout-scroll_-_-webkit-overflow-scrolling:  touch; --layout-scroll_-_overflow:  auto;;

      --layout-fullbleed_-_margin:  0; --layout-fullbleed_-_height:  100vh;;

      

      --layout-fixed-top_-_position:  fixed; --layout-fixed-top_-_top:  0; --layout-fixed-top_-_left:  0; --layout-fixed-top_-_right:  0;;

      --layout-fixed-right_-_position:  fixed; --layout-fixed-right_-_top:  0; --layout-fixed-right_-_right:  0; --layout-fixed-right_-_bottom:  0;;

      --layout-fixed-bottom_-_position:  fixed; --layout-fixed-bottom_-_right:  0; --layout-fixed-bottom_-_bottom:  0; --layout-fixed-bottom_-_left:  0;;

      --layout-fixed-left_-_position:  fixed; --layout-fixed-left_-_top:  0; --layout-fixed-left_-_bottom:  0; --layout-fixed-left_-_left:  0;;
}

</style>
</custom-style><style>[hidden] { display: none !important; }</style><custom-style>
  <style is="custom-style">html {
  --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; 
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; 
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;
}

</style>
</custom-style><custom-style>
  <style is="custom-style">html {
  --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  
      --light-theme-disabled-color: #9b9b9b;  
      --light-theme-divider-color: #dbdbdb;

      
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  
      --dark-theme-disabled-color: #646464;  
      --dark-theme-divider-color: #3c3c3c;

      
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
}

</style>
</custom-style><script async="" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/lazy.min.js.download"></script>
<script src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/iframe_api"></script>
<script src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/vendor-45d462772c30000424907184f70c7157e95fb6227698d1671c5051818a6f60d8.js.download"></script>
<script src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/application-9a600ef8bfde867717452a9ffe83ac617c2a3a45056a3aaca8854b55299108d0.js.download"></script>
</head>
<body class="focuses focuses-show lab-show l-full no-nav">
<div class="header-container">
<div class="header">
<a class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect header__button header__button--nav header__nav-panel-button js-nav-toggle" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">menu</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<div class="header__title">
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--nav" href="https://app.pluralsight.com/" data-upgraded=",MaterialButton,MaterialRipple"><ql-icon>arrow_back</ql-icon><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>

<h1 class="headline-5">
AK8S-04 Creating a GKE Cluster via Cloud Shell
</h1>
</div>
<div class="header__actions">
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--action header__button--search js-header-search-bar-button" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">search</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<ql-icon-button id="control-panel-target" style="display: none;">
dashboard
</ql-icon-button>
<ql-menu for="#control-panel-target" id="control-panel-menu" style="left: -1000px; top: -1000px; opacity: 0;"></ql-menu>

<ql-help context="lab" productdata="{&quot;userId&quot;:2929111}" data-analytics-action="opened_help" data-analytics-label="lab"></ql-help>
<a class="header-my-account-button mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect js-my-account-button" data-upgraded=",MaterialButton,MaterialRipple">
<img class="avatar " alt="avatar image" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/794c92b001a65c220522c1a4ccedf978.png">
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<div class="header-my-account-menu js-my-account-menu">
<div class="card elevation-2 no-padding">
<div class="my-account-menu__top">
<img class="avatar " alt="avatar image" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/794c92b001a65c220522c1a4ccedf978.png">
<div class="my-account-menu__info">
<h4 class="subtitle-headline-1">
Muhammed Garba
</h4>
<p class="body-2 text--gray">
<span>muhdmuhd158@gmail.com</span>
</p>
<a class="button" href="https://googlepluralsight.qwiklabs.com/my_account/profile">My Account</a>
</div>
</div>
<div class="my-account-menu__bottom">
<a class="text--green subtitle-headline-2" href="https://googlepluralsight.qwiklabs.com/my_account/credits">0 Credits
</a><a data-analytics-action="clicked_sign_out" class="button button--hairline" rel="nofollow" data-method="delete" href="https://googlepluralsight.qwiklabs.com/users/sign_out">Sign Out</a>
</div>
</div>
</div>

</div>
</div>
<div class="header__search-bar js-header-search-bar">
<form class="js-search-form-mobile" onsubmit="ql.searchFilter(); return false;" action="https://googlepluralsight.qwiklabs.com/searches/elasticsearch" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="6LCOz6tEIk2BCrfC3DOklfSzT2eozExr121rm4wIp/AxNCPZ+kYAMvhnOJ+b011P3SwyFpCoCnZC7r61G9pc2A==">
<input type="text" name="keywords" id="keywords" placeholder="Search" maxlength="255" aria-label="catalog search bar">
</form>

<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">close</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
</div>
</div>

<nav class="nav-bar">
<a class="nav-bar__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/"><ql-icon class="nav-bar__item__icon">
home
</ql-icon>
<span class="nav-bar__item__label">
Home
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/catalog"><ql-icon class="nav-bar__item__icon">
school
</ql-icon>
<span class="nav-bar__item__label">
Catalog
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/my_learning"><ql-icon class="nav-bar__item__icon">
event_note
</ql-icon>
<span class="nav-bar__item__label">
My Learning
</span>
</a>
</nav>

<nav class="nav-panel js-nav-panel">
<div class="nav-panel__logo">
<div class="logo logo--blue"></div>
</div>
<a title="Home" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/"><ql-icon class="nav-panel__item__icon">
home
</ql-icon>
<div class="nav-panel__item__label">
Home
</div>
</a>
<a title="Catalog" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/catalog"><ql-icon class="nav-panel__item__icon">
school
</ql-icon>
<div class="nav-panel__item__label">
Catalog
</div>
</a>
<a title="My Learning" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/my_learning"><ql-icon class="nav-panel__item__icon">
event_note
</ql-icon>
<div class="nav-panel__item__label">
My Learning
</div>
</a>
<div class="nav-panel__spacer"></div>
<a title="Profile" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/my_account/profile"><ql-icon class="nav-panel__item__icon">
account_circle
</ql-icon>
<div class="nav-panel__item__label">
Profile
</div>
</a>
<a title="Credits &amp; Subscriptions" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/my_account/credits"><ql-icon class="nav-panel__item__icon">
money
</ql-icon>
<div class="nav-panel__item__label">
Credits &amp; Subscriptions
</div>
</a>
<a title="Security" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlepluralsight.qwiklabs.com/my_account/security"><ql-icon class="nav-panel__item__icon">
security
</ql-icon>
<div class="nav-panel__item__label">
Security
</div>
</a>
<div class="nav-panel__spacer"></div>
<a class="nav-panel__item" tabindex="-1" href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#"><ql-help>
<div class="nav-panel__help-item">
<ql-icon class="nav-panel__item__icon">help</ql-icon>
<div class="nav-panel__item__label">Help</div>
</div>
</ql-help>
</a><div class="nav-panel__small-links">
<a tabindex="-1" href="https://googlepluralsight.qwiklabs.com/privacy_policy">Privacy</a>
<a tabindex="-1" href="https://googlepluralsight.qwiklabs.com/terms_of_service">Terms</a>
</div>
</nav>
<div class="nav-panel__overlay js-nav-toggle"></div>

<main class="js-main">
<span class="hidden" id="flash-sibling-before"></span>

<div class="l-main-wrapper" id="main-wrapper">







<div class="lab-assessment__tab js-open-lab-assessment-panel">
<h6 class="js-lab-assessment-total-score">0/15</h6>
</div>
<div class="lab-assessment__panel js-lab-assessment-panel">
<div class="lab-assessment__panel__header">
<h4>Checkpoints</h4>
<ql-icon-button class="js-close-lab-assessment-panel">arrow_forward</ql-icon-button>
</div>
<div class="lab-assessment__step">
<p class="lab-assessment__step__title">
Deploy GKE clusters
</p>
<div class="lab-assessment__step__action">
<a class="button js-show-run-step-button" step_no="1">
Check my progress
</a>
<p class="lab-assessment__step__score">
<span class="js-assessment-step-score-1">0</span>
/ 5
</p>
</div>
</div>

<div class="lab-assessment__step">
<p class="lab-assessment__step__title">
Deploy Pods to GKE
</p>
<div class="lab-assessment__step__action">
<a class="button js-show-run-step-button" step_no="2">
Check my progress
</a>
<p class="lab-assessment__step__score">
<span class="js-assessment-step-score-2">0</span>
/ 5
</p>
</div>
</div>

<div class="lab-assessment__step">
<p class="lab-assessment__step__title">
Deploy manifest file for a Pod called new-nginx
</p>
<div class="lab-assessment__step__action">
<a class="button js-show-run-step-button" step_no="3">
Check my progress
</a>
<p class="lab-assessment__step__score">
<span class="js-assessment-step-score-3">0</span>
/ 5
</p>
</div>
</div>

</div>
<ql-drawer-container class="js-lab-state" data-analytics-payload="{&quot;label&quot;:&quot;AK8S-04 Creating a GKE Cluster via Cloud Shell&quot;,&quot;lab_name&quot;:&quot;AK8S-04 Creating a GKE Cluster via Cloud Shell&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlepluralsight-run&quot;}" data-focus-id="10865245" data-lab-billing-limit="0.0" data-lab-duration="3600" data-parent="lti_session" id="lab-container">
<ql-drawer id="terminal-drawer" slot="drawer" style="width: 1120px;">
<ql-cloud-terminal class="terminal"></ql-cloud-terminal>
</ql-drawer>
<ql-drawer-content class="js-lab-wrapper" id="lab-content" slot="drawer-content">
<ql-drawer-container id="lab-content-container">
<ql-drawer id="control-panel-drawer" open="" slot="drawer" width="320" style="width: 320px;">
<ql-lab-control-panel class="control-panel js-lab-control-panel" connectiondetails="[]" connectionfiles="[]" labcontrolbutton="{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}" labtimer="{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:3600}" studentresources="[]"></ql-lab-control-panel>
</ql-drawer>
<ql-drawer-content id="lab-instructions" slot="drawer-content">
<div class="alert alert--fake js-alert">
<p class="alert__message js-alert-message"></p>
<a class="alert__close js-alert-close">
<i class="fa fa-times"></i>
</a>
<iframe class="l-ie-iframe-fix" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource.html"></iframe>
</div>
<div class="js-lab-content lab-content__renderable-instructions">
<div class="lab-preamble">
<h1 class="lab-preamble__title">
AK8S-04 Creating a GKE Cluster via Cloud Shell
</h1>
<div class="lab-preamble__details subtitle-headline-1">
<span>1 hour </span>
<span>Free</span>
<div class="lab__rating">
<a href="https://googlepluralsight.qwiklabs.com/focuses/10865245/reviews?parent=catalog"><div class="rateit" data-rateit-readonly="true" data-rateit-value="4.5737"><div class="rateit-reset" style="display: none;"></div><div class="rateit-range" style="width: 80px; height: 16px;"><div class="rateit-selected" style="height: 16px; width: 73.1792px;"></div><div class="rateit-hover" style="height:16px"></div></div></div>

</a><a data-target="#lab-review-modal" data-toggle="modal">
Rate Lab
</a>
</div>
</div>
</div>

<div class="js-markdown-instructions markdown-lab-instructions" id="markdown-lab-instructions">



<h2 id="step1">Overview</h2>
<p>In this lab, you use the command line to build GKE clusters. You inspect the kubeconfig file, and you use <code>kubectl</code> to manipulate the cluster.</p>
<h2 id="step2">Objectives</h2>
<p>In this lab, you learn how to perform the following tasks:</p>
<ul>
<li>
<p>Use <code>kubectl</code> to build and manipulate GKE clusters</p>
</li>
<li>
<p>Use <code>kubectl</code> and configuration files to deploy Pods</p>
</li>
<li>
<p>Use Container Registry to store and deploy containers</p>
</li>
</ul>
<h2 id="step3">Task 0. Lab Setup</h2>
<h3><strong>Access Qwiklabs</strong></h3>
<p>For each lab, you get a new GCP project and set of resources for a fixed time at no cost.</p>
<ol>
<li>
<p>Make sure you signed into Qwiklabs using an <strong>incognito window</strong>.</p>
</li>
<li>
<p>Note the lab's access time (for example, <img alt="img/time.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/aZQJ4BT7uCmM9XR6BTXgTRP1Hfu1T7q6V+cnbdEsbpU="> and make sure you can finish in that time block.</p>
</li>
</ol>
<aside> <p>
  There is no pause feature. You can restart if needed, but you have to start at the beginning.
  </p>

</aside>
<ol start="3">
<li>
<p>When ready, click <img alt="img/start_lab.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/XE8x7uvQokyubNwnYKKc+vBBNrMlo5iNZiDDzQQ3Ddo=">.</p>
</li>
<li>
<p>Note your lab credentials. You will use them to sign in to Cloud Platform Console.
<img alt="img/open_google_console.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/0d78dhX6IVMVWmixCPPSBbmi5O2GPokCXf1Ps1AkTgI="></p>
</li>
<li>
<p>Click <strong>Open Google Console</strong>.</p>
</li>
<li>
<p>Click <strong>Use another account</strong> and copy/paste credentials for <strong>this</strong> lab into the prompts.</p>
</li>
</ol>
<aside class="warning"><p>
  If you use other credentials, you'll get errors or <strong>incur charges</strong>.
  </p>
</aside>
<ol start="7">
<li>Accept the terms and skip the recovery resource page.</li>
</ol>
<aside class="warning"><p>
  Do not click <strong>End Lab</strong> unless you are finished with the lab or want to restart it. This clears your work and removes the project.
  </p>
</aside>

<p>After you complete the initial sign-in steps, the project dashboard appears.</p>
<p><img alt="c679b27aa332f22d.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/dxfeoOcn1ObyC0BYyoqqqSi4rO_eMdbWPFjoK6C0YYk="></p>
<h3><strong>Open Cloud Shell</strong></h3>
<p>You will do most of the work in  <a href="https://cloud.google.com/developer-shell/#how_do_i_get_started">Cloud Shell</a>. Cloud Shell is a command-line environment running in the Google cloud. This Debian-based virtual machine is loaded with all the management tools you need (such as <code>docker</code>, <code>gcloud,gsutil</code>, and <code>kubectl</code>) and provides a persistent 5GB home directory.</p>
<ol>
<li>On the Google Cloud Platform console title bar, click <strong>Activate Cloud Shell (</strong> <img alt="e92fcd01cbb5e0ff.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/G2OU7QatKvkGgxCZRcv3IFJd8GvwHIJz6JhAtOMT5cg="><strong>)</strong>.</li>
<li>Click <strong>Start Cloud Shell</strong>.</li>
</ol>
<p>After a moment of provisioning, the Cloud Shell prompt appears:</p>
<p><img alt="2556eb930170f806.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/Ois24pu6m_xwQvtYfb7uru5orN_Hm52dN2ump6Zq5MU="></p>
<h2 id="step4">Task 1. Deploy GKE clusters</h2>
<p>In this task, you use Cloud Shell to deploy GKE clusters.</p>
<ol>
<li>
<p>In Cloud Shell, type the following command to set the environment variable for the zone and cluster name.</p>
</li>
</ol>
<pre><code>export my_zone=us-central1-a
export my_cluster=standard-cluster-1
</code><button class="button button--copy js-copy-button-0" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<ol start="2">
<li>
<p>In Cloud Shell, type the following command to create a Kubernetes cluster.</p>
</li>
</ol>
<pre><code>gcloud container clusters create $my_cluster --num-nodes 3 --zone $my_zone --enable-ip-alias
</code><button class="button button--copy js-copy-button-1" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p>This form of the command sets most options to their defaults. To view the entire set of possible options, go to  <a href="https://cloud.google.com/sdk/gcloud/reference/container/clusters/create">https://cloud.google.com/sdk/gcloud/reference/container/clusters/create</a>.</p>
<p>You will see a number of warnings highlighting changes to default GKE cluster settings that were introduced as newer version of Kubernetes have been adopted by GKE.</p>
<p>The new cluster (standard-cluster-1) takes several minutes to deploy. When deployment is complete, the GCP Console  <strong>Kubernetes Engine &gt; Clusters</strong> page should look like the screenshot.</p>
<p><img alt="e4067e41b02055b3.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/C9GwSDHa6LtGyTMkqJnKVAE5_KuXmt_+D_WoxIKlgG8="></p>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="1" labinstanceid="18007397">
Deploy GKE clusters
</ql-activity-tracking></p>
<h2 id="step5">Task 2. Modify GKE clusters</h2>
<p>It is easy to modify many of the parameters of existing clusters in GCP Console or Cloud Shell. In this task, you use Cloud Shell to modify the number of nodes in a GKE cluster.</p>
<ol>
<li>
<p>In Cloud Shell, execute the following command to modify standard-cluster-1 to have four nodes:</p>
</li>
</ol>
<pre><code>gcloud container clusters resize $my_cluster --zone $my_zone --size=4
</code><button class="button button--copy js-copy-button-2"><i class="fa fa-clipboard"></i></button></pre>
<aside class="special"><p><strong>Note:</strong> When issuing cluster commands, you typically must specify both the cluster name and the cluster location (region or zone).</p>
</aside>
<ol start="2">
<li>When prompted with Do you want to continue (Y/n), press <code>y</code> to confirm.</li>
</ol>
<p>When the operation completes, you should see on the GCP Console <strong>Kubernetes Engine &gt; Clusters</strong> page that the cluster now has four nodes. You can modify many other cluster parameters by using the <code>gcloud container cluster</code> command.</p>
<p><img alt="dd4b56f196406c20.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/G5Ag9LC73+qbm0sBkIItcw8FRvJzKtFrX403e+EVY5s="></p>
<h2 id="step6">Task 3. Connect to a GKE cluster</h2>
<p>In this task, you use Cloud Shell to authenticate to a GKE cluster and then inspect the kubectl configuration files.</p>
<p>Authentication in Kubernetes applies both to communicating with the cluster from an external client through the kube-APIserver running on the master and to cluster containers communicating within the cluster or externally. In Kubernetes, authentication can take several forms. For GKE, authentication is typically handled with OAuth2 tokens and can be managed through Cloud Identity and Access Management across the project as a whole and, optionally, through role-based access control which can be defined and configured within each cluster. In GKE, cluster containers can use service accounts to authenticate to and access external resources.</p>
<aside class="warning"><p><strong>Important</strong></p>
<p>For Kubernetes versions before 1.12, client certificates and basic authentication are not disabled by default. These are lower security methods of authentication and should be disabled to increase cluster security. (For versions 1.12 and later both of these methods are disabled by default.). </p>
</aside>
<ol>
<li>
<p>To create a kubeconfig file with the credentials of the current user (to allow authentication) and provide the endpoint details for a specific cluster (to allow communicating with that cluster through the <code>kubectl</code> command-line tool), execute the following command:</p>
</li>
</ol>
<pre><code>gcloud container clusters get-credentials $my_cluster --zone $my_zone
</code><button class="button button--copy js-copy-button-3"><i class="fa fa-clipboard"></i></button></pre>
<p>This command creates a <code>.kube</code> directory in your home directory if it doesn't already exist. In the <code>.kube</code> directory, the command creates a file named <code>config</code> if it doesn't already exist, which is used to store the authentication and configuration information. The config file is typically called the kubeconfig file.</p>
<ol start="2">
<li>
<p>Open the kubeconfig file with the nano text editor:</p>
</li>
</ol>
<pre><code>nano ~/.kube/config
</code><button class="button button--copy js-copy-button-4"><i class="fa fa-clipboard"></i></button></pre>
<p>You can now examine all of the authentication and endpoint configuration data stored in the file. Information for both clusters should appear. The information was populated during cluster creation.</p>
<ol start="3">
<li>Press CTRL+X to exit the nano editor.</li>
</ol>
<aside class="special"><p><strong>Note:</strong> The kubeconfig file can contain information for many clusters. The currently active context (the cluster that <code>kubectl</code> commands manipulate) is indicated by the <code>current-context</code> property.</p>
<p>You don't have to run the <code>gcloud container clusters get-credentials</code> command to populate the kubeconfig file for clusters that you created in the same context (the same user in the same environment), because those clusters already have their details populated when the cluster is created. But you have to run the command to connect to a cluster created by another user or in another environment. The command is also an easy way to switch the active context to a different cluster.</p>
</aside>
<h2 id="step7">Task 4. Use kubectl to inspect a GKE cluster</h2>
<p>In this task, you use Cloud Shell and kubectl to inspect a GKE cluster.</p>
<p>After the kubeconfig file is populated and the active context is set to a particular cluster, you can use the <code>kubectl</code> command-line tool to execute commands against the cluster.  Most such commands ultimately trigger a REST API call against the master API server, which triggers the associated action.</p>
<ol>
<li>
<p>In Cloud Shell, execute the following command to print out the content of the kubeconfig file:</p>
</li>
</ol>
<pre><code>kubectl config view
</code><button class="button button--copy js-copy-button-5"><i class="fa fa-clipboard"></i></button></pre>
<p>The sensitive certificate data is replaced with REDACTED.</p>
<ol start="2">
<li>
<p>In Cloud Shell, execute the following command to print out the cluster information for the active context:</p>
</li>
</ol>
<pre><code>kubectl cluster-info
</code><button class="button button--copy js-copy-button-6"><i class="fa fa-clipboard"></i></button></pre>
<p>The output describes the active context cluster.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>Kubernetes master is running at https://104.155.191.14
GLBCDefaultBackend is running at https://104.155.191.14/api/v1/namespaces/kube-system/services/default-http-backend:http/proxy
Heapster is running at https://104.155.191.14/api/v1/namespaces/kube-system/services/heapster/proxy
KubeDNS is running at https://104.155.191.14/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
Metrics-server is running at https://104.155.191.14/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy
To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.
</code><button class="button button--copy js-copy-button-7"><i class="fa fa-clipboard"></i></button></pre>
<ol start="3">
<li>
<p>In Cloud Shell, execute the following command to print out the active context:</p>
</li>
</ol>
<pre><code>kubectl config current-context
</code><button class="button button--copy js-copy-button-8"><i class="fa fa-clipboard"></i></button></pre>
<p>A line of output indicates the active context cluster.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>gke_[PROJECT_ID]_us-central1-a_standard-cluster-1
</code><button class="button button--copy js-copy-button-9"><i class="fa fa-clipboard"></i></button></pre>
<p><code>PROJECT_ID</code> is your project ID. This information is the same as the information in the <code>current-context</code> property of the kubeconfig file.</p>
<ol start="4">
<li>
<p>In Cloud Shell, execute the following command to print out some details for all the cluster contexts in the kubeconfig file:</p>
</li>
</ol>
<pre><code>kubectl config get-contexts
</code><button class="button button--copy js-copy-button-10"><i class="fa fa-clipboard"></i></button></pre>
<p>Several lines of output indicate details about the cluster you created and an indication of which is the active context cluster. In general, this command lists some details of the clusters present in the user's kubeconfig file, including any other clusters that were created by the user as well as any manually added to the kubeconfig file.</p>
<ol start="5">
<li>
<p>In Cloud Shell, execute the following command to change the active context:</p>
</li>
</ol>
<pre><code>kubectl config use-context gke_${GOOGLE_CLOUD_PROJECT}_us-central1-a_standard-cluster-1
</code><button class="button button--copy js-copy-button-11"><i class="fa fa-clipboard"></i></button></pre>
<p>In this case you have only one cluster, so this command didn't change anything.</p>
<p>However in the future you may have more than one cluster in a project. You can use this approach to switching the active context when your kubeconfig file has the credentials and configuration for several clusters already populated. This approach requires the full name of the cluster, which includes the <code>gke</code> prefix, the project ID, the location, and the display name, all concatenated with underscores.</p>
<ol start="6">
<li>
<p>In Cloud Shell, execute the following command to view the resource usage across the nodes of the cluster:</p>
</li>
</ol>
<pre><code>kubectl top nodes
</code><button class="button button--copy js-copy-button-12"><i class="fa fa-clipboard"></i></button></pre>
<p>The output should look like the following example.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>NAME                            CPU(cores)   CPU%  MEMORY(bytes)  MEMORY%
gke-standard-cluster-1-def...   29m          3%    431Mi          16%
gke-standard-cluster-1-def...   45m          4%    605Mi          22%
gke-standard-cluster-1-def...   40m          4%    559Mi          21%
gke-standard-cluster-1-def...   34m          3%    488Mi          18%
</code><button class="button button--copy js-copy-button-13"><i class="fa fa-clipboard"></i></button></pre>
<p>Another <code>top</code> command (<code>kubectl top pods</code>) shows similar information across all the deployed Pods in the cluster.</p>
<ol start="7">
<li>
<p>In Cloud Shell, execute the following command to enable bash autocompletion for <code>kubectl</code>:</p>
</li>
</ol>
<pre><code>source &lt;(kubectl completion bash)
</code><button class="button button--copy js-copy-button-14"><i class="fa fa-clipboard"></i></button></pre>
<p>This command produces no output.</p>
<ol start="8">
<li>In Cloud Shell, type <strong>kubectl</strong> and press the Tab key twice.</li>
</ol>
<p>The shell outputs all the possible commands:</p>
<p><img alt="1c837190fc584047.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/zpAC0Un0rUvcZgZ4mwBOEj_TfmpvCt8iewLcOWQdNmM="></p>
<ol start="9">
<li>In Cloud Shell, type <strong>kubectl co</strong> and press the Tab key twice.</li>
</ol>
<p>The shell outputs all commands starting with "co" (or any other text you type).</p>
<p><img alt="947bdc7b0cfc4f40.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/HxdFwso0Ca6REiRmsR_evc6aTu4PmYp5m4RFmVRZM7c="></p>
<h2 id="step8">Task 5. Deploy Pods to GKE clusters</h2>
<p>In this task, you use Cloud Shell to deploy Pods to GKE clusters.</p>
<h3>Use kubectl to deploy Pods to GKE</h3>
<p>Kubernetes introduces the abstraction of a Pod to group one or more related containers as a single entity to be scheduled and deployed as a unit on the same node. You can deploy a Pod that is a single container from a single container image. Or a Pod can contain many containers from many container images.</p>
<ol>
<li>
<p>In Cloud Shell, execute the following command to deploy the latest version of nginx as a Pod named nginx-1:</p>
</li>
</ol>
<pre><code>kubectl run nginx-1 --image nginx:latest
</code><button class="button button--copy js-copy-button-15"><i class="fa fa-clipboard"></i></button></pre>
<p>This command creates a Pod named nginx with a container running the nginx image. When a repository isn't specified, the default behavior is to try and find the image either locally or in the Docker public registry. In this case, the image is pulled from the Docker public registry.</p>
<ol start="2">
<li>
<p>In Cloud Shell, execute the following command to view all the deployed Pods in the active context cluster:</p>
</li>
</ol>
<pre><code>kubectl get pods
</code><button class="button button--copy js-copy-button-16"><i class="fa fa-clipboard"></i></button></pre>
<p>The output should look like the following example, but with a slightly different Pod name.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>NAME                       READY     STATUS    RESTARTS   AGE
nginx-1-74c7bbdb84-nvwsc   1/1       Running   0          9s
</code><button class="button button--copy js-copy-button-17"><i class="fa fa-clipboard"></i></button></pre>
<ol start="3">
<li>
<p>You will now enter your Pod name into a variable that we will use throughout this lab. Using variables like this can help you minimize human error when typing long names. You must type your Pod's unique name in place of <code>[your_pod_name]</code>.</p>
</li>
</ol>
<pre><code>export my_nginx_pod=[your_pod_name]
</code><button class="button button--copy js-copy-button-18"><i class="fa fa-clipboard"></i></button></pre>
<p><strong>Example (do not copy)</strong></p>
<pre><code>export my_nginx_pod=nginx-1-74c7bbdb84-nvwsc
</code><button class="button button--copy js-copy-button-19"><i class="fa fa-clipboard"></i></button></pre>
<ol start="4">
<li>
<p>Confirm that you have set the environment variable successfully by having the shell echo the value back to you:</p>
</li>
</ol>
<pre><code>echo $my_nginx_pod
</code><button class="button button--copy js-copy-button-20"><i class="fa fa-clipboard"></i></button></pre>
<p><strong>Output (do not copy)</strong></p>
<pre><code>nginx-1-74c7bbdb84-nvwsc
</code><button class="button button--copy js-copy-button-21"><i class="fa fa-clipboard"></i></button></pre>
<ol start="5">
<li>
<p>In Cloud Shell, execute the following command to view the complete details of the Pod you just created.</p>
</li>
</ol>
<pre><code>kubectl describe pod $my_nginx_pod
</code><button class="button button--copy js-copy-button-22"><i class="fa fa-clipboard"></i></button></pre>
<p>The output should look like the following example. Details of the Pod, as well as its status and conditions and the events in its lifecycle, are displayed.</p>
<p><strong>Condensed Output (do not copy, edited to fit screen)</strong></p>
<pre><code>Name:           nginx-1-74c7bbdb84-nvwsc
Namespace:      default
Node:           gke-standard-cluster-1-default-pool-bc4ec334-0hmk/10.128.0.5
Start Time:     Sun, 16 Dec 2018 14:29:38 -0500
Labels:         pod-template-hash=3073668640
                run=nginx-1
Annotations:    kubernetes.io/limit-ranger=LimitRanger plugin set: cpu ...
Status:         Running
IP:             10.8.3.3
Controlled By:  ReplicaSet/nginx-1-74c7bbdb84
Containers:
  nginx-1:
    Container ID:   docker://dce87d274e6d25300b07ec244c265d42806579fee...
    Image:          nginx:latest
    Image ID:       docker-pullable://nginx@sha256:87e9b6904b4286b8d41...
    Port:           &lt;none&gt;
    Host Port:      &lt;none&gt;
    State:          Running
      Started:      Sun, 16 Dec 2018 14:29:44 -0500
    Ready:          True
    Restart Count:  0
    Requests:
      cpu:        100m
    Environment:  &lt;none&gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-tok...
Conditions:
  Type           Status
  Initialized    True
  Ready          True
  PodScheduled   True
Volumes:
  default-token-nphcg:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-nphcg
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason  Age   From                         Message
  ----    ------  ----  ----                         -------
  Normal  Sche... 1m    default-scheduler            Successf...
  Normal  Succ... 1m    kubelet, gke-standard-cl...  MountVol...
  Normal  Pull... 1m    kubelet, gke-standard-cl...  pulling ...
  Normal  Pull... 1m    kubelet, gke-standard-cl...  Successf...
  Normal  Crea... 1m    kubelet, gke-standard-cl...  Created ...
  Normal  Star... 1m    kubelet, gke-standard-cl...  Started ...
</code><button class="button button--copy js-copy-button-23"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>Push a file into a container</strong></h3>
<p>To be able to serve static content through the nginx web server, you must create and place a file into the container.</p>
<ol>
<li>
<p>In Cloud Shell, type the following commands to open a file named <code>test.html</code> in the nano text editor.</p>
</li>
</ol>
<pre><code>nano ~/test.html
</code><button class="button button--copy js-copy-button-24"><i class="fa fa-clipboard"></i></button></pre>
<ol start="2">
<li>
<p>Add the following text (shell script) to the empty <code>test.html</code> file:</p>
</li>
</ol>
<pre><code>&lt;html&gt; &lt;header&gt;&lt;title&gt;This is title&lt;/title&gt;&lt;/header&gt;
&lt;body&gt; Hello world &lt;/body&gt;
&lt;/html&gt;
</code><button class="button button--copy js-copy-button-25"><i class="fa fa-clipboard"></i></button></pre>
<ol start="3">
<li>
<p>Press CTRL+X, then press Y and enter to save the file and exit the nano editor.</p>
</li>
<li>
<p>In Cloud Shell, execute the following command to place the file into the appropriate location within the nginx container in the nginx Pod to be served statically:</p>
</li>
</ol>
<pre><code>kubectl cp ~/test.html $my_nginx_pod:/usr/share/nginx/html/test.html
</code><button class="button button--copy js-copy-button-26"><i class="fa fa-clipboard"></i></button></pre>
<p>This command copies the <code>test.html</code> file from the local home  directory to the <code>/usr/share/nginx/html</code> directory of the first container in the nginx Pod. You could specify other containers in a multi-container Pod by using the <code>-c</code> option, followed by the name of the container.</p>
<p><strong>Expose the Pod for testing</strong></p>
<p>To expose a Pod to clients outside the cluster requires a service. Services are discussed elsewhere in the course and used extensively in other labs. You can use a simple command to create a service to expose a Pod.</p>
<ol>
<li>
<p>In Cloud Shell, execute the following command to create a service to expose our nginx Pod externally:</p>
</li>
</ol>
<pre><code>kubectl expose pod $my_nginx_pod --port 80 --type LoadBalancer
</code><button class="button button--copy js-copy-button-27"><i class="fa fa-clipboard"></i></button></pre>
<p>This command creates a LoadBalancer service, which allows the nginx Pod to accessed from internet addresses outside of the cluster.</p>
<ol start="2">
<li>
<p>In Cloud Shell, execute the following command to view details about services in the cluster:</p>
</li>
</ol>
<pre><code>kubectl get services
</code><button class="button button--copy js-copy-button-28"><i class="fa fa-clipboard"></i></button></pre>
<p>The output should look like the following example. You use the external IP address in the next step.</p>
<aside class="special"><p><strong>Note:</strong> You might have to repeat the command a few times before the new service has its external IP populated.</p>
</aside>
<p><strong>Condensed Output (do not copy, edited to fit screen)</strong></p>
<pre><code>NAME             TYPE          CLUSTER-IP    EXTERNAL-IP  PORT(S)      AGE
kubernetes       ClusterIP     10.11.240.1   &lt;none&gt;       443/TCP       1h
nginx-1-7...wsc  LoadBalancer  10.11.240.87  &lt;pending&gt;    80:31695/TCP  3s
</code><button class="button button--copy js-copy-button-29"><i class="fa fa-clipboard"></i></button></pre>
<p>The kubernetes service is one of the default services created or used by the cluster. The nginx service that you created is also displayed.</p>
<p>You may need to re-run this command several times before the External IP address is displayed.</p>
<p><strong>Condensed Output (do not copy, edited to fit screen)</strong></p>
<pre><code>NAME             TYPE         CLUSTER-IP   EXTERNAL-IP    PORT(S)     AGE
kubernetes       ClusterIP    10.11.240.1  &lt;none&gt;         443/TCP      1h
nginx-1-7...wsc  LoadBalancer 10.11.240.87 104.154.177.46 80:31695/TCP 1m
</code><button class="button button--copy js-copy-button-30"><i class="fa fa-clipboard"></i></button></pre>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="2" labinstanceid="18007397">
Deploy Pods to GKE clusters
</ql-activity-tracking></p>
<ol start="3">
<li>In Cloud Shell, execute the following command to verify that the nginx container is serving the static HTML file that you copied.</li>
</ol>
<p>You replace [<em>EXTERNAL_IP</em>] with the external IP address of your service that you obtained from the output of the previous step.</p>
<pre><code>curl http://[EXTERNAL_IP]/test.html
</code><button class="button button--copy js-copy-button-31"><i class="fa fa-clipboard"></i></button></pre>
<p>The file contents appear in the output.  You can go to the same address in your browser to see the file rendered as HTML.</p>
<p><strong>Example (do not copy)</strong></p>
<pre><code>curl http://104.154.177.46/test.html

&lt;html&gt; &lt;header&gt;&lt;title&gt;This is title&lt;/title&gt;&lt;/header&gt;
&lt;body&gt; Hello world &lt;/body&gt;
&lt;/html&gt;
</code><button class="button button--copy js-copy-button-32"><i class="fa fa-clipboard"></i></button></pre>
<ol start="4">
<li>
<p>In Cloud Shell, execute the following command to view the resources being used by the nginx Pod:</p>
</li>
</ol>
<pre><code>kubectl top pods
</code><button class="button button--copy js-copy-button-33"><i class="fa fa-clipboard"></i></button></pre>
<p><strong>Output (do not copy)</strong></p>
<pre><code>NAME                       CPU(cores)   MEMORY(bytes)
nginx-1-74c7bbdb84-nvwsc   0m           2Mi
</code><button class="button button--copy js-copy-button-34"><i class="fa fa-clipboard"></i></button></pre>
<h2 id="step9">Task 6. Introspect GKE Pods</h2>
<p>In this task, you connect to a Pod to adjust settings, edit files, and make other live changes to the Pod.</p>
<aside class="warning"><p><strong>Important</strong></p>
<p>Use this process only when troubleshooting or experimenting. Because the changes you make are not made to the source image of the Pod, they won't be present in any replicas.</p>
</aside>
<h3><strong>Prepare the environment</strong></h3>
<p>The preferred way of deploying Pods and other resources to Kubernetes is through configuration files, which are sometimes called manifest files. Configuration files are typically written in the YAML syntax, specifying the details of the resource. With configuration files, you can more easily specify complex options than with a long line of command-line arguments. YAML syntax is similar to, but more concise than, JSON syntax and it enables the same kind of hierarchical structuring of objects and properties. The source repository for the lab contains sample YAML files that have been prepared for you.</p>
<ol>
<li>
<p>In Cloud Shell enter the following command  to clone the repository to the lab Cloud Shell.</p>
</li>
</ol>
<pre><code>git clone https://github.com/GoogleCloudPlatformTraining/training-data-analyst
</code><button class="button button--copy js-copy-button-35"><i class="fa fa-clipboard"></i></button></pre>
<ol start="2">
<li>
<p>Change to the directory that contains the sample files for this lab.</p>
</li>
</ol>
<pre><code>cd ~/training-data-analyst/courses/ak8s/04_GKE_Shell/
</code><button class="button button--copy js-copy-button-36"><i class="fa fa-clipboard"></i></button></pre>
<p>A sample manifest YAML file for a Pod called <code>new-nginx-pod.yaml</code> has been provided for you:</p>
<pre><code>apiVersion: v1
kind: Pod
metadata:
  name: new-nginx
  labels:
    name: new-nginx
spec:
  containers:
  - name: new-nginx
    image: nginx
    ports:
    - containerPort: 80
</code><button class="button button--copy js-copy-button-37"><i class="fa fa-clipboard"></i></button></pre>
<ol start="3">
<li>
<p>To deploy your manifest, execute the following command:</p>
</li>
</ol>
<pre><code>kubectl apply -f ./new-nginx-pod.yaml
</code><button class="button button--copy js-copy-button-38"><i class="fa fa-clipboard"></i></button></pre>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="3" labinstanceid="18007397">
Deploy manifest file for a Pod called new-nginx
</ql-activity-tracking></p>
<ol start="4">
<li>
<p>To see a list of Pods, execute the following command:</p>
</li>
</ol>
<pre><code>kubectl get pods
</code><button class="button button--copy js-copy-button-39"><i class="fa fa-clipboard"></i></button></pre>
<p>The output should look like the example.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>NAME                       READY     STATUS    RESTARTS   AGE
new-nginx                  1/1       Running   0          9s
nginx-1-74c7bbdb84-nvwsc   1/1       Running   0          55m
</code><button class="button button--copy js-copy-button-40"><i class="fa fa-clipboard"></i></button></pre>
<p>You can see your new nginx Pod as well as the one we created earlier in the lab.</p>
<h3><strong>Use shell redirection to connect to a Pod</strong></h3>
<p>Some container images include a shell environment that you can launch. This shell environment might be more convenient than executing individual commands with <code>kubectl</code>. For instance, the nginx image includes a bash shell. In this task you use shell redirection to connect to the bash shell in your new nginx pod to carry out a sequence of actions.</p>
<ol start="5">
<li>
<p>In Cloud Shell, execute the following command to start an interactive bash shell in the nginx container:</p>
</li>
</ol>
<pre><code>kubectl exec -it new-nginx /bin/bash
</code><button class="button button--copy js-copy-button-41"><i class="fa fa-clipboard"></i></button></pre>
<p>A new shell prompt appears.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>root@new-nginx:/#
</code><button class="button button--copy js-copy-button-42"><i class="fa fa-clipboard"></i></button></pre>
<p>You have started an interactive bash shell in the container of the new-nginx Pod. If the Pod had several containers, you could specify one by name with the <code>-c</code> option.</p>
<p>Because the nginx container image has no text editing tools by default, you need to install one.</p>
<ol start="6">
<li>
<p>In Cloud Shell, in the nginx bash shell, execute the following commands to install the nano text editor:</p>
</li>
</ol>
<pre><code>apt-get update
apt-get install nano
</code><button class="button button--copy js-copy-button-43"><i class="fa fa-clipboard"></i></button></pre>
<p>You need to create a <code>test.html</code> file in the static served directory on the nginx container.</p>
<ol start="7">
<li>
<p>In Cloud Shell, in the nginx bash shell, execute the following commands to switch to the static files directory and create a <code>test.html</code> file:</p>
</li>
</ol>
<pre><code>cd /usr/share/nginx/html
nano test.html
</code><button class="button button--copy js-copy-button-44"><i class="fa fa-clipboard"></i></button></pre>
<ol start="8">
<li>
<p>In Cloud Shell, in the nginx bash shell nano session, type the following text:</p>
</li>
</ol>
<pre><code>&lt;html&gt; &lt;header&gt;&lt;title&gt;This is title&lt;/title&gt;&lt;/header&gt;
&lt;body&gt; Hello world &lt;/body&gt;
&lt;/html&gt;
</code><button class="button button--copy js-copy-button-45"><i class="fa fa-clipboard"></i></button></pre>
<ol start="9">
<li>
<p>Press CTRL+X, then press Y and enter to save the file and exit the nano editor.</p>
</li>
<li>
<p>In Cloud Shell, in the nginx bash shell, execute the following command to exit the nginx bash shell:</p>
</li>
</ol>
<pre><code>exit
</code><button class="button button--copy js-copy-button-46"><i class="fa fa-clipboard"></i></button></pre>
<p>To connect to and test the modified nginx container (with the new static HTML file), you could create a service. An easier way is to use port forwarding to connect to the Pod directly from Cloud Shell.</p>
<ol start="11">
<li>
<p>In Cloud Shell, execute the following command to set up port forwarding from Cloud Shell to the nginx Pod (from port 10081 of the Cloud Shell VM to port 80 of the nginx container):</p>
</li>
</ol>
<pre><code>kubectl port-forward new-nginx 10081:80
</code><button class="button button--copy js-copy-button-47"><i class="fa fa-clipboard"></i></button></pre>
<p>The output should look like the example.</p>
<p><strong>Output (do not copy)</strong></p>
<pre><code>Forwarding from 127.0.0.1:10081 -&gt; 80
Forwarding from [::1]:10081 -&gt; 80
</code><button class="button button--copy js-copy-button-48"><i class="fa fa-clipboard"></i></button></pre>
<p>This is a foreground process, so you need to open another Cloud Shell instance to test.</p>
<ol start="12">
<li>In the Cloud Shell menu bar, click the plus sign (+) icon to start a new Cloud Shell session.</li>
</ol>
<p><img alt="8996feb35b731abb.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/gFDWeAxBRKo8euELdXf6ysVEBkbEeI6Wf0jXnB7zOfk="></p>
<p>A second Cloud Shell session appears in your Cloud Shell window. You can switch between sessions by clicking the titles in the menu bar.</p>
<ol start="13">
<li>
<p>In the second Cloud Shell session, execute the following command to test the modified nginx container through the port forwarding:</p>
</li>
</ol>
<pre><code>curl http://127.0.0.1:10081/test.html
</code><button class="button button--copy js-copy-button-49"><i class="fa fa-clipboard"></i></button></pre>
<p>The HTML text you placed in the <code>test.html</code> file is displayed.</p>
<pre><code>&lt;html&gt; &lt;header&gt;&lt;title&gt;This is title&lt;/title&gt;&lt;/header&gt;
&lt;body&gt; Hello world &lt;/body&gt;
&lt;/html&gt;
</code><button class="button button--copy js-copy-button-50"><i class="fa fa-clipboard"></i></button></pre>
<h3><strong>View the logs of a Pod</strong></h3>
<ol start="14">
<li>In the Cloud Shell menu bar, click the plus sign (+) icon to start another new Cloud Shell session.</li>
</ol>
<p>A third Cloud Shell session appears in your Cloud Shell window. As before, you can switch sessions by clicking them in the menu bar.</p>
<ol start="15">
<li>
<p>In third Cloud Shell window, execute the following command to display the logs and to stream new logs as they arrive (and also include timestamps) for the new-nginx Pod:</p>
</li>
</ol>
<pre><code>kubectl logs new-nginx -f --timestamps
</code><button class="button button--copy js-copy-button-51"><i class="fa fa-clipboard"></i></button></pre>
<ol start="16">
<li>You will see the logs display in this new window</li>
<li>Return to the second Cloud Shell window and re-run the curl command to generate some traffic on the Pod.</li>
<li>Review the additional log messages as they appear in the third Cloud Shell window.</li>
</ol>
<p><img alt="32096531a9e15126.png" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/cGWr7HWOMAdWTqPscJ1JxWSPX2jYzHWR4u13sGj2QGM="></p>
<ol start="19">
<li>
<p>Close the third Cloud Shell window to stop displaying the log messages.</p>
</li>
<li>
<p>Close the original Cloud Shell window to stop the port forwarding process.</p>
</li>
</ol>
<h2 id="step10">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Qwiklabs removes the resources you've used and cleans the account for you.</p>
<p>You'll be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates your rating:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, use the <strong>Support</strong> tab.</p>
<h5>Manual Last Updated: July 01, 2019</h5>
<h5>Lab Last Tested: July 01, 2019</h5>
<p>Copyright 2020 Google LLC All rights reserved. Google and the Google logo are trademarks of Google LLC. All other company and product names may be trademarks of the respective companies with which they are associated.</p>



</div>
</div>


<!-- / TODO: Move recommendations into the end lab modal -->
</ql-drawer-content>
<ql-drawer end="" id="outline-drawer" open="" slot="drawer" width="320" style="width: 320px;">
<div class="js-lab-content-outline lab-content__outline">
<a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step1" class="">Overview</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step2" class="">Objectives</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step3" class="">Task 0. Lab Setup</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step4" class="is-active">Task 1. Deploy GKE clusters</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step5">Task 2. Modify GKE clusters</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step6">Task 3. Connect to a GKE cluster</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step7">Task 4. Use kubectl to inspect a GKE cluster</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step8">Task 5. Deploy Pods to GKE clusters</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step9">Task 6. Introspect GKE Pods</a><a href="https://googlepluralsight.qwiklabs.com/focuses/10865245?parent=lti_session#step10">End your lab</a>
</div>
</ql-drawer>
</ql-drawer-container>
</ql-drawer-content>
</ql-drawer-container>
<div class="lab-introduction js-lab-introduction is-hidden">
<div class="lab-introduction__inner">
<h1 class="headline-1">Welcome to Your First Lab!</h1>
<ql-icon-button class="js-skip-button">close</ql-icon-button>
<div class="lab-introduction__video">
<iframe allow="autoplay; encrypted-media" allowfullscreen="" frameborder="0" id="lab-introduction" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/yF7EDXKTmoQ.html"></iframe>
</div>
<a class="js-skip-button button button--outline">Skip this video</a>
</div>
</div>
<script src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/api.js.download"></script>
        <script>
          // Define function so that we can call it again later if we need to reset it
          // This executes reCAPTCHA and then calls our callback.
          function executeRecaptchaForStartLab() {
            grecaptcha.ready(function() {
              grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}).then(function(token) {
                setInputWithRecaptchaResponseTokenForStartLab('g-recaptcha-response-data-start-lab', token)
              });
            });
          };
          // Invoke immediately
          executeRecaptchaForStartLab()

          // Async variant so you can await this function from another async function (no need for
          // an explicit callback function then!)
          // Returns a Promise that resolves with the response token.
          async function executeRecaptchaForStartLabAsync() {
            return new Promise((resolve, reject) => {
              grecaptcha.ready(async function() {
                resolve(await grecaptcha.execute('6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr', {action: 'start_lab'}))
              });
            })
          };

                    var setInputWithRecaptchaResponseTokenForStartLab = function(id, token) {
            var element = document.getElementById(id);
            element.value = token;
          }

        </script>
<input type="hidden" name="g-recaptcha-response-data[start_lab]" id="g-recaptcha-response-data-start-lab" data-sitekey="6LeVI8IUAAAAAJNdox5eTkYrw9SbvhZ1TFyv3iHr" class="g-recaptcha g-recaptcha-response " style="" value="03AGdBq24xj3TRaZHL8RALaE34yZ2YMpweXmrbe_y90wwLbiVxwvi6c7Wl0HpKKwmtLVD3no5FQ5XpYfJMmcBGsSATDokJhLrWElX6-asgF1DETJAUKyfXQhgAJQ-F-XCXR_Le5Yq0xsdNMn6bXbNJC5Q-ViUKOwiWkiEjUIphNz5FPpsLzO3x4cO73iufs8Z6V7SMovLr97l_PchiTu6HVWcj4oeiaxr-bTHo-STukoIor6SSVC26TdapJWm_3aNcbMT6PqgTKzWAL39unGeHKyDQZKO6XOp2uS3z93EfJ1RIa1MPDsWQJrYj_spqYcH3VZdzlMZdfoaL955u09cdgDucut7jYzlWGb-PAqdev9i0J9ewC5k3xdLSUoyc1XI_YaGMYwXCnrPRGMQtasDHqgGZq4xvFqIfAw"><div style="width: 304px; height: 78px;"><div><iframe src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/anchor.html" width="304" height="78" role="presentation" name="a-mvbaqxtcla64" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(1).html"></iframe></input>




</div>
</main>
<div class="modal fade" id="lab-details-modal">
<div class="modal-container">
<div class="mdl-shadow--24dp modal-content">
<div class="modal-body">
<p class="l-mbm">
Architecting with Google Kubernetes Engine: Lab 04 Creating a GKE Cluster via Cloud Shell
</p>
<p class="small-label l-mbs">
<strong>
Duration:
</strong>
1m setup
·
60m access
·
60m completion
</p>
<p class="small-label l-mbs">
<span><strong>Levels: </strong>fundamental</span>
</p>
<p class="small-label">
<strong>
Permalink:
</strong>
<a href="https://googlepluralsight.qwiklabs.com/catalog_lab/1673">https://googlepluralsight.qwiklabs.com/catalog_lab/1673</a>
</p>
</div>
<div class="modal-actions">
<a class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" data-upgraded=",MaterialButton,MaterialRipple">
Got It
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
</div>


</div>
</div>
<iframe class="l-ie-iframe-fix" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(2).html"></iframe>
</div>
<div class="modal fade" id="lab-review-modal">
<div class="modal-container">
<div class="mdl-shadow--24dp modal-content">
<form class="simple_form js-lab-review-form" id="new_lab_review" action="https://googlepluralsight.qwiklabs.com/lab_reviews" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="✓"><div class="modal-body">
<p class="label">
How satisfied are you with this lab?*
</p>
<div class="rateit js-rateit" data-rateit-max="5" data-rateit-min="0" data-rateit-resetable="false" data-rateit-step="1" data-rateit-value="0"><div class="rateit-reset" style="display: none;"></div><div class="rateit-range" style="width: 80px; height: 16px;"><div class="rateit-selected" style="height: 16px; width: 0px;"></div><div class="rateit-hover" style="height:16px"></div></div></div>
<div class="l-mtm">

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" type="hidden" value="2929111" name="lab_review[user_id]" id="lab_review_user_id"></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" type="hidden" name="lab_review[classroom_id]" id="lab_review_classroom_id"></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" type="hidden" value="1673" name="lab_review[lab_id]" id="lab_review_lab_id"></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" type="hidden" name="lab_review[focus_id]" id="lab_review_focus_id"></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" type="hidden" name="lab_review[rating]" id="lab_review_rating"></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Comment</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment"></textarea></div></div>
</div>
</div>
<div class="modal-actions">
<a class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" data-upgraded=",MaterialButton,MaterialRipple">
Cancel
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<input type="submit" name="commit" value="Submit" disabled="disabled" id="submit" data-disabled="false" class="button" data-disable-with="Submit">
</div>
</form>

</div>
</div>
<iframe class="l-ie-iframe-fix" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(3).html"></iframe>
</div>

<script>
  $( function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    initLabContent();
  ql.labOutline.links.init();
  initLabReviewModal();
  ql.labAssessment.init();
  ql.labIntroduction.init( true );
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?\n","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.\n","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.initHeader();
  ql.navigation.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>
<style>
  .mdl-layout__container {
    position: static
  }
</style>


<iframe data-product="web_widget" title="No content" tabindex="-1" aria-hidden="true" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(4).html" style="width: 0px; height: 0px; border: 0px; position: absolute; top: -9999px;"></iframe><div><div class="grecaptcha-badge" data-style="bottomright" style="width: 256px; height: 60px; display: block; transition: right 0.3s ease 0s; position: fixed; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;"><div class="grecaptcha-logo"><iframe src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/anchor(1).html" width="256" height="60" role="presentation" name="a-24e31owg5qqa" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><div class="grecaptcha-error"></div><textarea id="g-recaptcha-response-100000" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div></div><iframe id="nr-ext-rsicon" style="position: absolute; display: none; width: 50px; height: 50px; z-index: 2147483647; border-style: none; background: transparent;" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(5).html"></iframe><div><iframe title="Opens a widget where you can chat to one of our agents" id="launcher" tabindex="0" style="width: 107px; height: 50px; padding: 0px; margin: 10px 20px; position: fixed; bottom: 0px; right: 0px; overflow: visible; opacity: 1; border: 0px; z-index: 999998; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); transition-property: opacity, top, bottom;" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(6).html"></iframe><iframe title="Find more information here" id="webWidget" tabindex="-1" style="width: 374px; max-height: calc(100vh - 32px); height: 572px; position: fixed; opacity: 0; border: 0px; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); transition-property: opacity, top, bottom; top: -9999px; visibility: hidden; z-index: 999999;" src="./AK8S-04 Creating a GKE Cluster via Cloud Shell _ Qwiklabs_files/saved_resource(7).html"></iframe></div></body></html>